/*! bslib 0.4.2.9000 | (c) 2012-2023 RStudio, PBC. | License: MIT + file LICENSE */
"use strict";(()=>{var u=window.Shiny?Shiny.InputBinding:class{};function b(i,e){window.Shiny&&Shiny.inputBindings.register(new i,"bslib."+e)}function g(i){if($(i).data("window-resize-observer"))return;let e=new Event("resize"),t=new ResizeObserver(()=>{window.dispatchEvent(e)});t.observe(i),$(i).data("window-resize-observer",t)}var n=class{static initCollapsible(e){e.removeAttribute("data-bslib-sidebar-init"),n._initSidebarCounters(e),n._initDesktop(e)}static _initSidebarCounters(e){let t=`.${n.classes.LAYOUT}> .main > .${n.classes.LAYOUT}:not([data-bslib-sidebar-open="always"])`;if(!(e.querySelector(t)===null))return;function l(s){return s=s?s.parentElement:null,s&&s.classList.contains("main")&&(s=s.parentElement),s&&s.classList.contains(n.classes.LAYOUT)?s:null}let r=[e],c=l(e);for(;c;)r.unshift(c),c=l(c);let p={left:0,right:0};r.forEach(function(s,m){s.style.setProperty("--bslib-sidebar-counter",m.toString());let L=s.classList.contains("sidebar-right")?p.right++:p.left++;s.style.setProperty("--bslib-sidebar-overlap-counter",L.toString())})}static _initDesktop(e){if(e.dataset.bslibSidebarOpen!=="desktop")return;window.getComputedStyle(e).getPropertyValue("--bslib-sidebar-js-init-collapsed")==="true"&&n.toggle(e,"close")}static _findLayoutContainer(e){let t=e.closest(`.${n.classes.LAYOUT}`);if(!t)throw new Error(`Expected container or direct ancestor with class ${n.classes.LAYOUT}`);return t}static components(e){e=n._findLayoutContainer(e);let t=e.querySelector(":scope > .main"),o=e.querySelector(":scope > .sidebar"),l=e.querySelector(":scope > .collapse-toggle"),r=e.classList.contains(n.classes.COLLAPSE);return{container:e,main:t,sidebar:o,toggle:l,isClosed:r}}static toggle(e,t){let{container:o,main:l,sidebar:r,isClosed:c}=n.components(e);if(["open","close","toggle"].indexOf(t)===-1)throw new Error(`Unknown method ${t}`);t==="toggle"&&(t=c?"open":"close"),!(c&&t==="close"||!c&&t==="open")&&(g(l),t==="open"&&(r.hidden=!1),o.classList.add(n.classes.TRANSITIONING),o.classList.toggle(n.classes.COLLAPSE))}static finalizeState(e){let{container:t,sidebar:o,toggle:l,isClosed:r}=n.components(e);return t.classList.remove(n.classes.TRANSITIONING),o.hidden=r,l.ariaExpanded=r?"false":"true",o}},a=n;a.classes={LAYOUT:"bslib-sidebar-layout",COLLAPSE:"sidebar-collapsed",TRANSITIONING:"transitioning"};var d=class extends u{find(e){return $(e).find(`.${a.classes.LAYOUT} > .bslib-sidebar-input`)}getValue(e){return!$(e).parent().hasClass(a.classes.COLLAPSE)}setValue(e,t){let o=t?"open":"close";this.receiveMessage(e,{method:o})}subscribe(e,t){$(e).on("toggleCollapse.sidebarInputBinding",function(o){t(!0)})}unsubscribe(e){$(e).off(".sidebarInputBinding")}receiveMessage(e,t){a.toggle(e,t.method)}};b(d,"sidebar");$(document).on("click",`.${a.classes.LAYOUT} > .collapse-toggle`,i=>{i.preventDefault(),a.toggle(i.target,"toggle")});$(document).on("transitionend",`.${a.classes.LAYOUT} > .collapse-toggle > .collapse-icon`,i=>{let e=a.finalizeState(i.target);$(e).trigger("toggleCollapse.sidebarInputBinding")});window.bslib=window.bslib||{};window.bslib.Sidebar=a;})();
//# sourceMappingURL=sidebar.min.js.map
