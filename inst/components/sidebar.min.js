/*! bslib 0.4.2.9000 | (c) 2012-2023 RStudio, PBC. | License: MIT + file LICENSE */
"use strict";(()=>{var u=window.Shiny?Shiny.InputBinding:class{};function m(d,e){window.Shiny&&Shiny.inputBindings.register(new d,"bslib."+e)}function g(d){if($(d).data("window-resize-observer"))return;let e=new Event("resize"),t=new ResizeObserver(()=>{window.dispatchEvent(e)});t.observe(d),$(d).data("window-resize-observer",t)}var c=class{constructor(e){let t=n=>{for(let o of n)if(o.type==="childList"){for(let i of o.addedNodes)i.nodeType===Node.ELEMENT_NODE&&this._callback(i,this.config.added);for(let i of o.removedNodes)i.nodeType===Node.ELEMENT_NODE&&this._callback(i,this.config.removed)}};this.config=e,this.observer=new MutationObserver(t),document.readyState==="complete"?this.connect():document.addEventListener("DOMContentLoaded",()=>this.connect())}_callback(e,{selector:t,callback:n}){let o=e.matches(t),i=e.querySelector(t);!o&&!i||(o&&n(e),i&&e.querySelectorAll(t).forEach(a=>n(a)))}connect(){this._callback(document.body,this.config.added),this.observer.observe(document,{childList:!0,subtree:!0})}disconnect(){this.observer.disconnect()}};var s=class{static initCollapsible(e){e.removeAttribute("data-bslib-sidebar-init"),s._initEventListeners(e),s._initSidebarCounters(e),s._initDesktop(e)}static _initEventListeners(e){var o;let{sidebar:t,toggle:n}=s.components(e);n.handlers={start:i=>{i.preventDefault(),s.toggle(e,"toggle")},end:()=>{let{isClosed:i}=s.components(e);setTimeout(()=>{s.finalizeState(e),$(t).trigger("toggleCollapse.sidebarInputBinding")},i?100:0)}},n.addEventListener("click",n.handlers.start),(o=n.querySelector(".collapse-icon"))==null||o.addEventListener("transitionend",n.handlers.end)}static _initSidebarCounters(e){let t=`.${s.classes.LAYOUT}> .main > .${s.classes.LAYOUT}:not([data-bslib-sidebar-open="always"])`;if(!(e.querySelector(t)===null))return;function o(r){return r=r?r.parentElement:null,r&&r.classList.contains("main")&&(r=r.parentElement),r&&r.classList.contains(s.classes.LAYOUT)?r:null}let i=[e],a=o(e);for(;a;)i.unshift(a),a=o(a);let p={left:0,right:0};i.forEach(function(r,L){r.style.setProperty("--bslib-sidebar-counter",L.toString());let v=r.classList.contains("sidebar-right")?p.right++:p.left++;r.style.setProperty("--bslib-sidebar-overlap-counter",v.toString())})}static _initDesktop(e){var n;if(((n=e.dataset.bslibSidebarOpen)==null?void 0:n.trim())!=="desktop")return;window.getComputedStyle(e).getPropertyValue("--bslib-sidebar-js-init-collapsed").trim()==="true"&&s.toggle(e,"close")}static _findLayoutContainer(e){let t=e.closest(`.${s.classes.LAYOUT}`);if(!t)throw new Error(`Expected container or direct ancestor with class ${s.classes.LAYOUT}`);return t}static components(e){e=s._findLayoutContainer(e);let t=e.querySelector(":scope > .main"),n=e.querySelector(":scope > .sidebar"),o=e.querySelector(":scope > .collapse-toggle"),i=e.classList.contains(s.classes.COLLAPSE);return{container:e,main:t,sidebar:n,toggle:o,isClosed:i}}static toggle(e,t){let{container:n,main:o,sidebar:i,isClosed:a}=s.components(e);if(["open","close","toggle"].indexOf(t)===-1)throw new Error(`Unknown method ${t}`);t==="toggle"&&(t=a?"open":"close"),!(a&&t==="close"||!a&&t==="open")&&(g(o),t==="open"&&(i.hidden=!1),n.classList.add(s.classes.TRANSITIONING),n.classList.toggle(s.classes.COLLAPSE))}static finalizeState(e){let{container:t,sidebar:n,toggle:o,isClosed:i}=s.components(e);t.classList.remove(s.classes.TRANSITIONING),n.hidden=i,o.ariaExpanded=i?"false":"true"}static removeEventListeners(e){var n;let{toggle:t}=s.components(e);t.handlers&&(t.removeEventListener("click",t.handlers.start),(n=t.querySelector(".collapse-icon"))==null||n.removeEventListener("transitionend",t.handlers.end))}},l=s;l.classes={LAYOUT:"bslib-sidebar-layout",COLLAPSE:"sidebar-collapsed",TRANSITIONING:"transitioning"},l.observer=new c({added:{selector:`.${s.classes.LAYOUT}[data-bslib-sidebar-init]`,callback:e=>{s.initCollapsible(e)}},removed:{selector:`.${s.classes.LAYOUT}:not([data-bslib-sidebar-open="always"])`,callback:e=>{s.removeEventListeners(e)}}});var b=class extends u{find(e){return $(e).find(`.${l.classes.LAYOUT} > .bslib-sidebar-input`)}getValue(e){return!$(e).parent().hasClass(l.classes.COLLAPSE)}setValue(e,t){let n=t?"open":"close";this.receiveMessage(e,{method:n})}subscribe(e,t){$(e).on("toggleCollapse.sidebarInputBinding",function(n){t(!0)})}unsubscribe(e){$(e).off(".sidebarInputBinding")}receiveMessage(e,t){l.toggle(e,t.method)}};m(b,"sidebar");window.bslib=window.bslib||{};window.bslib.Sidebar=l;})();
//# sourceMappingURL=sidebar.min.js.map
