/*! bslib 0.4.2.9000 | (c) 2012-2023 RStudio, PBC. | License: MIT + file LICENSE */
"use strict";(()=>{var u=window.Shiny?Shiny.InputBinding:class{};function b(s,e){window.Shiny&&Shiny.inputBindings.register(new s,"bslib."+e)}function g(s){if($(s).data("window-resize-observer"))return;let e=new Event("resize"),t=new ResizeObserver(()=>{window.dispatchEvent(e)});t.observe(s),$(s).data("window-resize-observer",t)}var n=class{static initCollapsible(e){e.removeAttribute("data-bslib-sidebar-init"),n._initSidebarCounters(e),n._initAutoCollapse(e)}static _initSidebarCounters(e){let t=`.${n.LAYOUT_CLASS} > .main > .${n.LAYOUT_CLASS}`;if(!(e.querySelector(t)===null))return;function l(i){return i=i?i.parentElement:null,i&&i.classList.contains("main")&&(i=i.parentElement),i&&i.classList.contains(n.LAYOUT_CLASS)?i:null}let a=[e],d=l(e);for(;d;)a.unshift(d),d=l(d);let p={left:0,right:0};a.forEach(function(i,L){i.style.setProperty("--bslib-sidebar-counter",L.toString());let m=i.classList.contains("sidebar-right")?p.right++:p.left++;i.style.setProperty("--bslib-sidebar-overlap-counter",m.toString())})}static _initAutoCollapse(e){if(!e.dataset.bslibSidebarInitAutoCollapse)return;window.getComputedStyle(e).getPropertyValue("--bslib-sidebar-js-init-collapsed")==="true"&&n.toggle(e,"close")}static _findLayoutContainer(e){let t=e.closest(`.${n.LAYOUT_CLASS}`);if(!t)throw new Error(`Expected container or direct ancestor with class ${n.LAYOUT_CLASS}`);return t}static components(e){e=n._findLayoutContainer(e);let t=e.querySelector(":scope > .main"),o=e.querySelector(":scope > .sidebar"),l=e.querySelector(":scope > .collapse-toggle"),a=e.classList.contains(n.COLLAPSE_CLASS);return{container:e,main:t,sidebar:o,toggle:l,isClosed:a}}static toggle(e,t){let{container:o,main:l,sidebar:a,isClosed:d}=n.components(e);if(["open","close","toggle"].indexOf(t)===-1)throw new Error(`Unknown method ${t}`);t==="toggle"&&(t=d?"open":"close"),!(d&&t==="close"||!d&&t==="open")&&(g(l),t==="open"&&(a.hidden=!1),o.classList.add("transitioning"),o.classList.toggle(n.COLLAPSE_CLASS))}static finalizeState(e){let{container:t,sidebar:o,toggle:l,isClosed:a}=n.components(e);return t.classList.remove("transitioning"),o.hidden=a,l.ariaExpanded=a?"false":"true",o}},r=n;r.COLLAPSE_CLASS="sidebar-collapsed",r.LAYOUT_CLASS="bslib-sidebar-layout";var c=class extends u{find(e){return $(e).find(`.${r.LAYOUT_CLASS} > .bslib-sidebar-input`)}getValue(e){return!$(e).parent().hasClass(r.COLLAPSE_CLASS)}setValue(e,t){let o=t?"open":"close";this.receiveMessage(e,{method:o})}subscribe(e,t){$(e).on("toggleCollapse.sidebarInputBinding",function(o){t(!0)})}unsubscribe(e){$(e).off(".sidebarInputBinding")}receiveMessage(e,t){r.toggle(e,t.method)}};b(c,"sidebar");$(document).on("click",`.${r.LAYOUT_CLASS} > .collapse-toggle`,s=>{s.preventDefault(),r.toggle(s.target,"toggle")});$(document).on("transitionend",".bslib-sidebar-layout > .collapse-toggle > .collapse-icon",s=>{let e=r.finalizeState(s.target);$(e).trigger("toggleCollapse.sidebarInputBinding")});window.bslib=window.bslib||{};window.bslib.Sidebar=r;})();
//# sourceMappingURL=sidebar.min.js.map
