<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="input_task_button is a button that can be used in conjuction with
shiny::bindEvent() (or the older shiny::eventReactive() and
shiny::observeEvent() functions) to trigger actions or recomputation.
It is similar to shiny::actionButton(), except it prevents the user from
clicking when its operation is already in progress.
Upon click, it automatically displays a customizable progress message and
disables itself; and after the server has dealt with whatever reactivity is
triggered from the click, the button automatically reverts to its original
appearance and re-enables itself."><title>Button for launching longer-running operations — input_task_button • bslib</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Atkinson_Hyperlegible-0.4.9/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><script src="../extra.js"></script><meta property="og:title" content="Button for launching longer-running operations — input_task_button"><meta property="og:description" content="input_task_button is a button that can be used in conjuction with
shiny::bindEvent() (or the older shiny::eventReactive() and
shiny::observeEvent() functions) to trigger actions or recomputation.
It is similar to shiny::actionButton(), except it prevents the user from
clicking when its operation is already in progress.
Upon click, it automatically displays a customizable progress message and
disables itself; and after the server has dealt with whatever reactivity is
triggered from the click, the button automatically reverts to its original
appearance and re-enables itself."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@latest/font/bootstrap-icons.css"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-info" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">bslib</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.7.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-get-started">Get Started</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-get-started">
    <a class="dropdown-item" href="../articles/dashboards/index.html">Shiny dashboards</a>
    <a class="dropdown-item" href="../articles/any-project/index.html">Any Bootstrap project</a>
    <a class="dropdown-item" href="../articles/theming/index.html">Theming</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-theming">Theming</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-theming">
    <a class="dropdown-item" href="../articles/bs5-variables/index.html">Theming variables</a>
    <a class="dropdown-item" href="../articles/utility-classes/index.html">Utility Classes</a>
    <a class="dropdown-item" href="../articles/custom-components/index.html">Custom components</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-components">Components</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-components">
    <a class="dropdown-item" href="../articles/cards/index.html">Cards</a>
    <a class="dropdown-item" href="../articles/sidebars/index.html">Sidebars</a>
    <a class="dropdown-item" href="../articles/value-boxes/index.html">Value Boxes</a>
    <a class="dropdown-item" href="../articles/tooltips-popovers/index.html">Tooltips &amp; Popovers</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-layouts">Layouts</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-layouts">
    <a class="dropdown-item" href="../articles/column-layout/index.html">Multiple columns</a>
    <a class="dropdown-item" href="../reference/navset.html#details">Multiple panels</a>
    <a class="dropdown-item" href="../articles/filling/index.html">Filling layout</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://shiny.posit.co/blog/posts/shiny-r-1.8.0/">v0.6.1</a>
    <a class="external-link dropdown-item" href="https://shiny.posit.co/blog/posts/bslib-tooltips/">v0.5.1</a>
    <a class="external-link dropdown-item" href="https://shiny.posit.co/blog/posts/bslib-dashboards/">v0.5.0</a>
    <a class="external-link dropdown-item" href="https://shiny.posit.co/blog/posts/announcing-new-r-shiny-ui-components/">v0.4.2</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rstudio/bslib">
    <span class="bi bi-github"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../#dark-mode"></a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Button for launching longer-running operations</h1>
      <small class="dont-index">Source: <a href="https://github.com/rstudio/bslib/blob/HEAD/R/buttons.R" class="external-link"><code>R/buttons.R</code></a></small>
      <div class="d-none name"><code>input_task_button.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>input_task_button</code> is a button that can be used in conjuction with
<code><a href="https://rdrr.io/pkg/shiny/man/bindEvent.html" class="external-link">shiny::bindEvent()</a></code> (or the older <code><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">shiny::eventReactive()</a></code> and
<code><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">shiny::observeEvent()</a></code> functions) to trigger actions or recomputation.</p>
<p>It is similar to <code><a href="https://rdrr.io/pkg/shiny/man/actionButton.html" class="external-link">shiny::actionButton()</a></code>, except it prevents the user from
clicking when its operation is already in progress.</p>
<p>Upon click, it automatically displays a customizable progress message and
disables itself; and after the server has dealt with whatever reactivity is
triggered from the click, the button automatically reverts to its original
appearance and re-enables itself.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">input_task_button</span><span class="op">(</span></span>
<span>  <span class="va">id</span>,</span>
<span>  <span class="va">label</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  icon <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  label_busy <span class="op">=</span> <span class="st">"Processing..."</span>,</span>
<span>  icon_busy <span class="op">=</span> <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/missing_arg.html" class="external-link">missing_arg</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"primary"</span>,</span>
<span>  auto_reset <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">update_task_button</span><span class="op">(</span><span class="va">id</span>, <span class="va">...</span>, state <span class="op">=</span> <span class="cn">NULL</span>, session <span class="op">=</span> <span class="fu">get_current_session</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>id</dt>
<dd><p>The <code>input</code> slot that will be used to access the value.</p></dd>


<dt>label</dt>
<dd><p>The label of the button while it is in ready (clickable) state;
usually a string.</p></dd>


<dt>...</dt>
<dd><p>Named arguments become attributes to include on the <code>&lt;button&gt;</code>
element.</p></dd>


<dt>icon</dt>
<dd><p>An optional icon to display next to the label while the button is
in ready state. See <code><a href="https://rstudio.github.io/fontawesome/reference/fa_i.html" class="external-link">fontawesome::fa_i()</a></code>.</p></dd>


<dt>label_busy</dt>
<dd><p>The label of the button while it is busy.</p></dd>


<dt>icon_busy</dt>
<dd><p>The icon to display while the button is busy. By default,
<code>fontawesome::fa_i("refresh", class = "fa-spin", "aria-hidden" = "true")</code>
is used, which displays a spinning "chasing arrows" icon. You can create
spinning icons out of other Font Awesome icons by using the same
expression, but replacing <code>"refresh"</code> with a different icon name. See
<code><a href="https://rstudio.github.io/fontawesome/reference/fa_i.html" class="external-link">fontawesome::fa_i()</a></code>.</p></dd>


<dt>type</dt>
<dd><p>One of the Bootstrap theme colors (<code>"primary"</code>, <code>"default"</code>,
<code>"secondary"</code>, <code>"success"</code>, <code>"danger"</code>, <code>"warning"</code>, <code>"info"</code>, <code>"light"</code>,
<code>"dark"</code>), or <code>NULL</code> to leave off the Bootstrap-specific button CSS classes
altogether.</p></dd>


<dt>auto_reset</dt>
<dd><p>If <code>TRUE</code> (the default), automatically put the button back
in "ready" state after its click is handled by the server.</p></dd>


<dt>state</dt>
<dd><p>If <code>"busy"</code>, put the button into busy/disabled state. If
<code>"ready"</code>, put the button into ready/enabled state.</p></dd>


<dt>session</dt>
<dd><p>The <code>session</code> object; using the default is recommended.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="manual-button-reset">Manual button reset<a class="anchor" aria-label="anchor" href="#manual-button-reset"></a></h2>
    

<p>In some advanced use cases, it may be necessary to keep a task button in its
busy state even after the normal reactive processing has completed. Calling
<code>update_task_button(id, state = "busy")</code> from the server will opt out of any
currently pending reset for a specific task button. After doing so, the
button can be re-enabled by calling <code>update_task_button(id, state = "ready")</code>
after each click's work is complete.</p>
<p>You can also pass an explicit <code>auto_reset = FALSE</code> to <code>input_task_button()</code>,
which means that button will <em>never</em> be automatically re-enabled and will
require <code>update_task_button(id, state = "ready")</code> to be called each time.</p>
<p>Note that, as a general rule, Shiny's <code>update</code> family of functions do not
take effect at the instant that they are called, but are held until the end
of the current reactive cycle. So if you have many different reactive
calculations and outputs, you don't have to be too careful about when you
call <code>update_task_button(id, state = "ready")</code>, as the button on the client
will not actually re-enable until the same moment that all of the updated
outputs simultaneously sent to the client.</p>
    </div>
    <div class="section level2">
    <h2 id="server-value">Server value<a class="anchor" aria-label="anchor" href="#server-value"></a></h2>
    

<p>An integer of class <code>"shinyActionButtonValue"</code>. This class differs from
ordinary integers in that a value of 0 is considered "falsy".
This implies two things:</p><ul><li><p>Event handlers (e.g., <code><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">shiny::observeEvent()</a></code>, <code><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">shiny::eventReactive()</a></code>) won't execute on initial load.</p></li>
<li><p>Input validation (e.g., <code><a href="https://rdrr.io/pkg/shiny/man/req.html" class="external-link">shiny::req()</a></code>, <code><a href="https://rdrr.io/pkg/shiny/man/validate.html" class="external-link">shiny::need()</a></code>) will fail on initial load.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="bind_task_button.html">bind_task_button()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># interactive()</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/" class="external-link">shiny</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/bslib/">bslib</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="page_sidebar.html">page_sidebar</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  sidebar <span class="op">=</span> <span class="fu"><a href="sidebar.html">sidebar</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    open <span class="op">=</span> <span class="st">"always"</span>,</span></span>
<span class="r-in"><span>    <span class="fu">input_task_button</span><span class="op">(</span><span class="st">"resample"</span>, <span class="st">"Resample"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">verbatimTextOutput</a></span><span class="op">(</span><span class="st">"summary"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">sample</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">eventReactive</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">resample</span>, ignoreNULL<span class="op">=</span><span class="cn">FALSE</span>, <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/Sys.sleep.html" class="external-link">Sys.sleep</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>  <span class="co"># Make this artificially slow</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">output</span><span class="op">$</span><span class="va">summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderPrint</a></span><span class="op">(</span><span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Carson Sievert, Joe Cheng, Garrick Aden-Buie, Posit Software, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

