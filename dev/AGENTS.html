<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>bslib • bslib</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" sizes="any" href="favicon.ico"><link rel="manifest" href="site.webmanifest"><script src="lightswitch.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Atkinson_Hyperlegible-0.4.10/font.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="bslib"><meta property="og:image" content="https://rstudio.github.io/bslib/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">bslib</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.9.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-get-started" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Get Started</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-get-started"><li><a class="dropdown-item" href="articles/dashboards/index.html">Shiny dashboards</a></li>
    <li><a class="dropdown-item" href="articles/any-project/index.html">Any Bootstrap project</a></li>
    <li><a class="dropdown-item" href="articles/theming/index.html">Theming</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-theming" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Theming</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-theming"><li><a class="dropdown-item" href="articles/brand-yml/index.html">Unified theming with brand.yml</a></li>
    <li><a class="dropdown-item" href="articles/bs5-variables/index.html">Theming variables</a></li>
    <li><a class="dropdown-item" href="articles/utility-classes/index.html">Utility classes</a></li>
    <li><a class="dropdown-item" href="articles/custom-components/index.html">Custom components</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-components" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Components</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-components"><li><a class="dropdown-item" href="articles/cards/index.html">Cards</a></li>
    <li><a class="dropdown-item" href="articles/sidebars/index.html">Sidebars</a></li>
    <li><a class="dropdown-item" href="articles/value-boxes/index.html">Value Boxes</a></li>
    <li><a class="dropdown-item" href="articles/tooltips-popovers/index.html">Tooltips &amp; Popovers</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-layouts" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Layouts</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-layouts"><li><a class="dropdown-item" href="articles/column-layout/index.html">Multiple columns</a></li>
    <li><a class="dropdown-item" href="reference/navset.html#details">Multiple panels</a></li>
    <li><a class="dropdown-item" href="articles/filling/index.html">Filling layout</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://shiny.posit.co/blog/posts/bslib-0.9.0/">v0.9.0</a></li>
    <li><a class="external-link dropdown-item" href="https://shiny.posit.co/blog/posts/shiny-r-1.8.0/">v0.6.1</a></li>
    <li><a class="external-link dropdown-item" href="https://shiny.posit.co/blog/posts/bslib-tooltips/">v0.5.1</a></li>
    <li><a class="external-link dropdown-item" href="https://shiny.posit.co/blog/posts/bslib-dashboards/">v0.5.0</a></li>
    <li><a class="external-link dropdown-item" href="https://shiny.posit.co/blog/posts/announcing-new-r-shiny-ui-components/">v0.4.2</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="news/index.html">Changelog</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rstudio/bslib/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="logo.png" class="logo" alt=""><h1>bslib</h1>
      <small class="dont-index">Source: <a href="https://github.com/rstudio/bslib/blob/main/AGENTS.md" class="external-link"><code>AGENTS.md</code></a></small>
    </div>

<div id="bslib" class="section level1">

<blockquote>
<p>Bootstrap-based UI toolkit for Shiny and R Markdown, enabling data scientists to build professional apps without web development expertise</p>
</blockquote>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a></h2>
<p>bslib is an R package that provides Bootstrap-based UI components and theming for Shiny web applications and R Markdown documents. It serves data scientists and analysts who want to build professional-looking apps without needing web development expertise. The package started as a way to access different Bootstrap versions in Shiny (which defaults to Bootstrap 3) and has evolved into a full-featured component library built on modern Bootstrap (v5), offering high-level UI patterns like cards, sidebars, value boxes, and responsive layouts that go beyond Bootstrap’s low-level templates.</p>
<p>The package handles the complexity of Sass compilation, dependency management, and client-side interactivity, exposing a clean R API where users call functions like <code><a href="reference/card.html">card()</a></code> and <code><a href="reference/layout_column_wrap.html">layout_column_wrap()</a></code> instead of writing HTML, CSS, or JavaScript.</p>
</div>
<div class="section level2">
<h2 id="purpose--design-philosophy">Purpose &amp; Design Philosophy<a class="anchor" aria-label="anchor" href="#purpose--design-philosophy"></a></h2>
<p>bslib bridges the gap between R users and modern web UI design by:</p>
<ol style="list-style-type: decimal"><li><p><strong>Abstracting web complexity</strong>: Data scientists call R functions; bslib generates the HTML, manages CSS/JS dependencies, and handles Bootstrap’s complexity.</p></li>
<li><p><strong>Progressive enhancement</strong>: Components are “more than just” Bootstrap wrappers - they add features Shiny users need (like full-screen card toggles, enhanced sidebars) while maintaining Bootstrap’s foundation.</p></li>
<li><p><strong>Flexible theming</strong>: Supports both quick customization (via <code>brand</code> or <code>preset</code> arguments) and deep customization (via Sass variables), with real-time preview capability.</p></li>
<li><p><strong>Version flexibility</strong>: Allows apps to use Bootstrap 3 (backwards compatibility), 4, or 5 (modern features) without rewriting code.</p></li>
</ol><p>The central design tension: provide powerful, opinionated components that “just work” for non-web-developers, while preserving enough flexibility for advanced customization through function arguments like <code>class</code> and <code>style</code>. Components are opinionated and composable, but users with knowledge of Bootstrap can extend them comfortably.</p>
</div>
<div class="section level2">
<h2 id="quick-reference">Quick Reference<a class="anchor" aria-label="anchor" href="#quick-reference"></a></h2>
<ul><li>
<strong>Type</strong>: R package with TypeScript components</li>
<li>
<strong>Languages</strong>: R (API/components), TypeScript (interactivity), Sass (styling)</li>
<li>
<strong>Key Frameworks</strong>: Bootstrap 3/4/5, Shiny, R Markdown, htmltools</li>
<li>
<strong>Build Tools</strong>: roxygen2 (R docs), esbuild (TS→JS), yarn (JS deps)</li>
<li>
<strong>Primary Integration</strong>: Shiny web framework for R</li>
</ul></div>
<div class="section level2">
<h2 id="architecture">Architecture<a class="anchor" aria-label="anchor" href="#architecture"></a></h2>
<div class="section level3">
<h3 id="the-two-layer-system">The Two-Layer System<a class="anchor" aria-label="anchor" href="#the-two-layer-system"></a></h3>
<p><strong>R Layer</strong> (<code>R/</code> directory): - <strong>Theme API</strong>: <code><a href="reference/bs_theme.html">bs_theme()</a></code> creates a <code>sass_bundle</code> object representing a Bootstrap theme with customizations - <strong>UI Components</strong>: Functions like <code><a href="reference/card.html">card()</a></code>, <code><a href="reference/sidebar.html">sidebar()</a></code>, <code><a href="reference/value_box.html">value_box()</a></code> return <code>htmltools</code> tag objects - <strong>Compilation Orchestration</strong>: <code><a href="reference/bs_theme_dependencies.html">bs_theme_dependencies()</a></code> compiles Sass to CSS, bundles JS/fonts, returns HTML dependencies</p>
<p><strong>TypeScript Layer</strong> (<code>srcts/</code> directory): - <strong>Component Enhancements</strong>: Adds interactivity beyond Bootstrap (full-screen cards, dark mode toggle, responsive behavior) - <strong>Web Components</strong>: Custom elements for complex UI patterns - <strong>Build Process</strong>: TypeScript → esbuild → bundled JS in <code>inst/components/dist/</code></p>
</div>
<div class="section level3">
<h3 id="component-architecture-pattern">Component Architecture Pattern<a class="anchor" aria-label="anchor" href="#component-architecture-pattern"></a></h3>
<p>Every bslib component follows this pattern:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>my_component <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, ..., <span class="at">arg2 =</span> default) {</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  <span class="co"># 1. Separate attributes and children in dots, if needed. Useful when named</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  <span class="co">#    attributes become attributes on a different tag than the children.</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>  dots <span class="ot">&lt;-</span> <span class="fu">separate_arguments</span>(...) <span class="co"># =&gt; list(attribs = ..., children = ...)</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>  <span class="co"># 2. Build htmltools tag structure</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>  tag <span class="ot">&lt;-</span> <span class="fu">div</span>(</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>    <span class="at">class =</span> <span class="st">"bslib-my-component"</span>,</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>    data<span class="sc">-</span><span class="at">attribute =</span> <span class="st">"value"</span>,</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>    <span class="sc">!!!</span>dots<span class="sc">$</span>attribs,</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>    <span class="sc">!!!</span>dots<span class="sc">$</span>children,</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>    <span class="co"># 3. Add component-specific JS/CSS dependencies,</span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>    <span class="fu">my_component_dependencies</span>()</span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>  )</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a>  <span class="co"># 4. Attach component dependencies (CSS/JS)</span></span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a>  tag <span class="ot">&lt;-</span> <span class="fu">tagAppendAttributes</span>(tag, ...)</span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a>  <span class="fu">tag_require</span>(tag, <span class="at">version =</span> <span class="dv">5</span>)  <span class="co"># Ensures Bootstrap 5</span></span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a>  <span class="co"># 5. Return as HTML fragment</span></span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a>  <span class="fu">as_fragment</span>(tag)</span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a>}</span></code></pre></div>
<p>Components are <strong>composable</strong>: <code>layout_sidebar(sidebar(...), card(...))</code> nests naturally because everything returns <code>htmltools</code> tags.</p>
<p>New components should be created in <code>R/{name}.R</code> and have a corresponding test file in <code>tests/testthat/test-{name}.R</code>.</p>
</div>
<div class="section level3">
<h3 id="adding-typescript-interactivity">Adding TypeScript Interactivity<a class="anchor" aria-label="anchor" href="#adding-typescript-interactivity"></a></h3>
<p>If your component needs client-side behavior, create TypeScript files in <code>srcts/src/components/</code>:</p>
<pre><code><span><span class="va">srcts</span><span class="op">/</span><span class="va">src</span><span class="op">/</span><span class="va">components</span><span class="op">/</span></span>
<span>  <span class="va">my</span><span class="op">-</span><span class="va">component.ts</span>           <span class="co"># Component logic</span></span>
<span>  <span class="va">index.ts</span>                  <span class="co"># Update to export your component</span></span></code></pre>
<p>The build process (<code>yarn build</code>) compiles all exports from <code>srcts/src/components/index.ts</code> into <code>inst/components/dist/components.min.js</code>. On the R side, attach this dependency using <code>component_dependencies()</code> so the compiled JavaScript is included when your component renders. The TypeScript code typically: - Initializes on elements with specific <code>data-*</code> attributes (e.g., <code>data-bslib-my-component</code>) - Uses Bootstrap’s JavaScript API for native component integration - Registers event listeners and manages component state - Communicates with Shiny via <code>Shiny.setInputValue()</code> when needed</p>
</div>
<div class="section level3">
<h3 id="adding-component-styles">Adding Component Styles<a class="anchor" aria-label="anchor" href="#adding-component-styles"></a></h3>
<p>Component-specific Sass should be placed in <code>inst/components/scss/</code>, e.g. <code>inst/components/scss/my-component.scss</code>.</p>
<p>These styles are compiled as part of the theme compilation process and become themable (they can access Bootstrap variables like <code>$primary</code>, <code>$border-radius</code>, etc.).</p>
<p>The final CSS should use CSS variables (e.g. <code>--bslib-*</code>) to support runtime theming, and these variables can fall back to using Bootstrap Sass variables that are filled in during compilation.</p>
</div>
<div class="section level3">
<h3 id="server-client-communication-patterns">Server-Client Communication Patterns<a class="anchor" aria-label="anchor" href="#server-client-communication-patterns"></a></h3>
<p>There are three main ways to communicate between the Shiny server and client-side components:</p>
<p><strong>1. Input Bindings (for bidirectional component state)</strong></p>
<p>Create a full Shiny input by extending <code>InputBinding</code> and implementing <code>getValue()</code>, <code>setValue()</code>, and <code>receiveMessage()</code>. This is the most robust pattern for components that maintain state and can be updated from the server.</p>
<ul><li>
<strong>Example</strong>: Sidebar (<code>srcts/src/components/sidebar.ts</code>, <code>R/sidebar.R</code>)</li>
<li>
<strong>Client side</strong>: <code>SidebarInputBinding</code> extends <code>InputBinding</code>, implements <code>receiveMessage(el, data)</code> to handle server updates</li>
<li>
<strong>Server side</strong>: <code><a href="reference/sidebar.html">sidebar()</a></code> creates the input, server updates via <code>session$sendInputMessage(id, list(method = "open"))</code>
</li>
<li>
<strong>Use when</strong>: The component is a true input control with state that should be bookmarkable and updatable from both client and server</li>
</ul><p><strong>2. Simple Input Values (for reporting client state)</strong></p>
<p>Use <code>Shiny.setInputValue()</code> to send values from client to server in a lightweight, non-bookmarkable way. Best for internal state reporting.</p>
<ul><li>
<strong>Example</strong>: Card full-screen state (<code>srcts/src/components/card.ts</code>, <code>R/card.R</code>)</li>
<li>
<strong>Client side</strong>: <code>Shiny.setInputValue(this.card.id + "_full_screen", isFullScreen)</code>
</li>
<li>
<strong>Server side</strong>: Read value via <code>input$&lt;card_id&gt;_full_screen</code> (reactive)</li>
<li>
<strong>Use when</strong>: Component needs to report state changes to server but doesn’t need full input binding infrastructure or bookmarking</li>
</ul><p><strong>3. Custom Messages (for server-initiated updates)</strong></p>
<p>Use <code>session$sendCustomMessage()</code> from the server and register a handler with <code>Shiny.addCustomMessageHandler()</code> on the client. Ideal for global updates or when you don’t have a specific input <code>id</code>.</p>
<ul><li>
<strong>Example</strong>: Dark mode toggle (<code>R/input-dark-mode.R</code>, <code>srcts/src/components/webcomponents/inputDarkMode.ts</code>)</li>
<li>
<strong>Server side</strong>: <code>session$sendCustomMessage("bslib.toggle-dark-mode", list(method = "toggle", value = "dark"))</code>
</li>
<li>
<strong>Client side</strong>: <code>Shiny.addCustomMessageHandler("bslib.toggle-dark-mode", function(data) { ... })</code>
</li>
<li>
<strong>Use when</strong>: Updates affect global state or the communication is primarily one-way (server → client)</li>
</ul></div>
<div class="section level3">
<h3 id="key-design-aspects">Key Design Aspects<a class="anchor" aria-label="anchor" href="#key-design-aspects"></a></h3>
<p><strong>Sass Layering System</strong>: - Bootstrap core variables (lowest priority) - Preset/Bootswatch theme overrides - User-specified variables (via <code>bs_theme(bg = ...)</code>) - Custom rules (via <code><a href="reference/bs_bundle.html">bs_add_rules()</a></code>) - Highest priority wins in Sass compilation</p>
<p><strong>Dependency Management</strong>: - Uses <code><a href="https://rstudio.github.io/htmltools/reference/htmlDependency.html" class="external-link">htmltools::htmlDependency()</a></code> to track CSS/JS files - Dependencies are automatically deduplicated when tags are rendered - Each component specifies its own dependencies; htmltools resolves conflicts</p>
<p><strong>Version Handling</strong>: - <code>inst/lib/bs3/</code>, <code>inst/lib/bs4/</code>, <code>inst/lib/bs5/</code> contain Bootstrap sources - Component functions check version compatibility via <code>tag_require(tag, version = 5)</code> - Some components (modern layouts, value boxes) only work with Bootstrap 5</p>
</div>
</div>
<div class="section level2">
<h2 id="technical-details">Technical Details<a class="anchor" aria-label="anchor" href="#technical-details"></a></h2>
<div class="section level3">
<h3 id="directory-structure">Directory Structure<a class="anchor" aria-label="anchor" href="#directory-structure"></a></h3>
<pre><code>bslib/
├── R/                         # R package source
│   ├── bs-theme*.R            # Theme creation and management API
│   ├── bs-dependencies.R      # Sass compilation and dependency bundling
│   ├── card.R, sidebar.R, ... # UI component functions
│   ├── layout.R, page.R       # Layout containers and page templates
│   ├── navs.R, nav-*.R        # Navigation components (tabs, pills, navbar)
│   └── utils*.R               # Internal utilities
│
├── inst/                        # Assets bundled with package
│   ├── lib/                     # Third-party libraries
│   │   ├── bs3/, bs4/, bs5/     # Bootstrap source Sass and compiled JS
│   │   ├── bsw3/, bsw4/, bsw5/  # Bootswatch theme Sass
│   │   └── bs-colorpicker/, bs-a11y-p/  # Additional libraries
│   ├── components/
│   │   ├── scss/              # Custom component Sass (bslib-specific styles)
│   │   └── dist/              # Compiled component JS (from srcts/)
│   ├── css-precompiled/       # Precompiled CSS for stock Bootstrap builds
│   │   ├── 3/, 4/, 5/         # Organized by Bootstrap version
│   ├── builtin/bs5/shiny/     # Built-in "shiny" preset theme assets
│   ├── examples-shiny/        # Demo Shiny apps (runExample())
│   └── fonts/                 # Font files used by components
│
├── srcts/                     # TypeScript source (not in built package)
│   ├── src/components/        # Component TypeScript implementations
│   └── build/                 # esbuild configuration
│
├── man/                        # Generated R documentation (from roxygen2)
├── tests/testthat/             # Unit tests
├── vignettes/                  # Package vignettes (guides/tutorials)
├── _dev/                       # Development scripts and notes
├── docs/                       # pkgdown website (generated)
│
├── DESCRIPTION                 # Package metadata and dependencies
├── NAMESPACE                   # Exported functions (auto-generated)
├── package.json, yarn.lock     # Node.js dependencies for build process
└── tsconfig.json              # TypeScript compiler configuration</code></pre>
</div>
<div class="section level3">
<h3 id="key-components--modules">Key Components &amp; Modules<a class="anchor" aria-label="anchor" href="#key-components--modules"></a></h3>
<p><strong>Theme System</strong> (<code>R/bs-theme*.R</code>): - <code><a href="reference/bs_theme.html">bs_theme()</a></code>: Main entry point; creates <code>sass_bundle</code> with Bootstrap + customizations - <code><a href="reference/bs_theme.html">bs_theme_update()</a></code>, <code><a href="reference/bs_bundle.html">bs_add_variables()</a></code>, <code><a href="reference/bs_bundle.html">bs_add_rules()</a></code>: Modify existing themes - <code><a href="reference/bs_theme_preview.html">bs_theme_preview()</a></code>: Interactive Shiny app for real-time theme editing - Preset system: Built-in themes (<code><a href="reference/builtin_themes.html">builtin_themes()</a></code>), Bootswatch (<code><a href="reference/bootswatch_themes.html">bootswatch_themes()</a></code>), brand.yml</p>
<p><strong>UI Components</strong> (<code>R/card.R</code>, <code>R/sidebar.R</code>, <code>R/value-box.R</code>, etc.): - <code><a href="reference/card.html">card()</a></code> family: Container with header/body/footer, full-screen capability - <code>layout_*()</code> family: Column wrapping, sidebars, fillable containers - <code><a href="reference/value_box.html">value_box()</a></code>: Dashboard metric display with icons and styling - <code>navset_*()</code> family: Tabbed and navigation interfaces - <code>page_*()</code> family: Page-level templates (fillable, sidebar, navbar, fluid)</p>
<p><strong>Compilation &amp; Dependencies</strong> (<code>R/bs-dependencies.R</code>): - <code><a href="reference/bs_theme_dependencies.html">bs_theme_dependencies()</a></code>: Compiles theme → CSS, bundles all dependencies - <code><a href="reference/bs_dependency.html">bs_dependency()</a></code>: Creates themable component dependencies for extension authors - Precompilation logic: Checks for stock builds, falls back to dynamic compilation - Caching via <code><a href="https://rstudio.github.io/sass/reference/sass_cache_context_dir.html" class="external-link">sass::sass_cache_context_dir()</a></code></p>
<p><strong>Client-Side Enhancements</strong> (<code>srcts/src/components/</code>): - Card full-screen mode toggle and state management - Dark mode input (<code>input-dark-mode.ts</code>) - Sidebar collapse/expand behavior - Web components for complex interactions</p>
<p><strong>Legacy Compatibility</strong> (<code>R/navs-legacy.R</code>, <code>inst/bs3compat/</code>): - Bootstrap 3 compatibility shims for Shiny components - Migration helpers for transitioning apps from BS3 to BS4/5</p>
</div>
</div>
<div class="section level2">
<h2 id="development-workflow">Development Workflow<a class="anchor" aria-label="anchor" href="#development-workflow"></a></h2>
<div class="section level3">
<h3 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a></h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install package dependencies</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/local_install_dev_deps.html" class="external-link">local_install_dev_deps</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># For TypeScript development</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="co"># (Requires Node.js 14+ and Yarn 1.22+)</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="ex">yarn</span> install</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="common-tasks">Common Tasks<a class="anchor" aria-label="anchor" href="#common-tasks"></a></h3>
<p><strong>Build TypeScript components</strong>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">yarn</span> build             <span class="co"># Compile TS → JS (with type checking and linting)</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="ex">yarn</span> watch             <span class="co"># Auto-rebuild on file changes</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="ex">yarn</span> check_types       <span class="co"># TypeScript type checking only</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="ex">yarn</span> check_lint        <span class="co"># ESLint checks only</span></span></code></pre></div>
<p><strong>R package development</strong>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">load_all</span><span class="op">(</span><span class="op">)</span> <span class="co"># Load package for interactive development</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">document</span><span class="op">(</span><span class="op">)</span> <span class="co"># Build documentation</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">test</span><span class="op">(</span><span class="op">)</span>     <span class="co"># Run tests</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">test</span><span class="op">(</span>filter <span class="op">=</span> <span class="st">"{name}"</span><span class="op">)</span>  <span class="co"># Test specific file</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">check</span><span class="op">(</span><span class="op">)</span>    <span class="co"># Check package (R CMD check) (use as final check)</span></span></code></pre></div>
<p><strong>Enable Shiny dev mode</strong> (disables caching/precompilation):</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>shiny.devmode <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co"># or</span></span>
<span><span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/devmode.html" class="external-link">devmode</a></span><span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="code-conventions--standards">Code Conventions &amp; Standards<a class="anchor" aria-label="anchor" href="#code-conventions--standards"></a></h2>
<p><strong>R Code Style</strong>: - Follow tidyverse style guide (function names use <code>snake_case</code>) - Exported functions documented with roxygen2 (<code>#'</code> comments) - Use <code>rlang</code> for tidy evaluation (<code><a href="https://rlang.r-lib.org/reference/list2.html" class="external-link">rlang::list2()</a></code>, <code>!!!</code> for splicing)</p>
<p><strong>TypeScript Code Style</strong>: - ESLint + Prettier enforce formatting - Avoid <code>any</code> types; prefer explicit typing - Use <code>lit</code> or standard <code>CustomElement</code> for web components - Shiny uses jQuery internally, but all new components should strive to use standard browser APIs - External Bootstrap types via <code>@types/bootstrap</code></p>
<p><strong>Naming Conventions</strong>: - <code>bs_*()</code>: Core theming functions - <code>layout_*()</code>: Layout containers - <code>card_*()</code>, <code>value_box_*()</code>: Component families - <code>navset_*()</code>: Navigation components - Internal helpers do not need a prefix; they are simply not exported</p>
<p><strong>Documentation Patterns</strong>: - Every exported function has <code>@export</code> and complete roxygen2 docs - <code>@family</code> tags group related functions - <code>@examplesIf rlang::is_interactive()</code> prevents CRAN issues - Cross-reference related functions with <code>[function_name()]</code> - Order roxygen2 tags: <code>@description</code>, sections, <code>@examples</code>, <code>@param</code>, <code>@return</code>, <code>@seealso</code>, <code>@family</code>, <code>@export</code>. - If multiple functions are documented in a single Rd file, use <code>@describeIn parent_function Description...</code> for all functions, including the parent function.</p>
</div>
<div class="section level2">
<h2 id="important-notes">Important Notes<a class="anchor" aria-label="anchor" href="#important-notes"></a></h2>
<p><strong>Bootstrap Version Compatibility</strong>: - Modern components (e.g., <code><a href="reference/value_box.html">value_box()</a></code>, <code><a href="reference/layout_column_wrap.html">layout_column_wrap()</a></code>) require Bootstrap 5 - Components call <code>tag_require(tag, version = 5)</code> to enforce version requirements - bslib provides Bootstrap 3/4 dependencies, but its components all target BS5+</p>
<p><strong>htmltools Dependency System</strong>: - Multiple components can declare the same dependency (e.g., Bootstrap CSS) - htmltools deduplicates automatically - Dependencies can be added directly into any <code>tag</code> object or <code>tagList()</code>, you do not need to use <code>attachDependencies()</code> manually</p>
<p><strong>Common Gotchas</strong>: - TypeScript changes require <code>yarn build</code> before R package sees updates - <code>inst/</code> directory contents are copied to package root during installation - Sass variables use <code>$</code> prefix in Sass but <code><a href="reference/bs_theme.html">bs_theme()</a></code>/<code><a href="reference/bs_bundle.html">bs_add_variables()</a></code> use R named arguments without <code>$</code></p>
</div>
<div class="section level2">
<h2 id="resources">Resources<a class="anchor" aria-label="anchor" href="#resources"></a></h2>
<ul><li>
<strong>Package Website</strong>: <a href="https://rstudio.github.io/bslib/" class="uri">https://rstudio.github.io/bslib/</a>
</li>
<li>
<strong>GitHub Repository</strong>: <a href="https://github.com/rstudio/bslib" class="external-link uri">https://github.com/rstudio/bslib</a>
</li>
<li>
<strong>Key Articles</strong> (on website):
<ul><li><a href="https://rstudio.github.io/bslib/articles/theming.html">Theming</a></li>
<li><a href="https://rstudio.github.io/bslib/articles/dashboards.html">Dashboards</a></li>
<li><a href="https://rstudio.github.io/bslib/articles/cards.html">Cards</a></li>
<li><a href="https://rstudio.github.io/bslib/articles/custom-components.html">Custom Components</a></li>
</ul></li>
<li>
<strong>README.md</strong>: Quick start and installation</li>
<li>
<strong>NEWS.md</strong>: Changelog and release notes</li>
<li>
<strong>Sass Package</strong>: <a href="https://rstudio.github.io/sass/" class="external-link uri">https://rstudio.github.io/sass/</a> (powers theming)</li>
<li>
<strong>Bootstrap Documentation</strong>: <a href="https://getbootstrap.com/" class="external-link uri">https://getbootstrap.com/</a> (underlying framework)</li>
</ul></div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Carson Sievert, Joe Cheng, Garrick Aden-Buie, Posit Software, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

