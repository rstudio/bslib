---
title: "Getting started"
---

```{r, include=FALSE}
# TODO: should probably bring in the iframe stuff to common
# (but be careful about difference between articles!)
source(
  rprojroot::find_package_root_file("vignettes/common.R")
)
knitr::opts_chunk$set(
  message = FALSE,
  collapse = TRUE,
  comment = "#>",
  out.width = "100%",
  fig.align = 'center',
  fig.width = 6,
  fig.asp = 0.618,  # 1 / phi
  fig.show = "hold"
)
```

```{css, echo=FALSE}
.plotly {
  .modebar-container {display: none};
}
.section.level2 {
  margin-top: 3rem;
}
.section.level3 {
  margin-top: 2rem;
}
```

Getting started with `bslib` is slightly different depending on whether you are using it in Shiny, R Markdown, pkgdown, or something else.
That said, once you know how to bring in `bslib`'s flavor of Bootstrap, you can start [custom theming](#custom-theming) and/or leveraging [UI components](#ui-components).

## Hello bslib

### Shiny

Use one of `bslib`'s' `page_*()` functions to get started in Shiny.
These drop-in replacements for `shiny::*Page()` provide the latest version of Bootstrap.

```r
ui <- page_fluid(
  h2("Hello world")
)
shinyApp(ui, function(...) {})
```

In production, it's recommended to pin the version of Bootstrap (currently 5) via `bs_theme()`. 
As we'll cover later, `bs_theme()` also provides a convenient entry point into [custom theming](#custom-theming).

```r
library(shiny)
ui <- page_fixed(
  theme = bs_theme(version = 5),
  h2("Hello world")
)
shinyApp(ui, function(...) {})
```

### R Markdown

Use the `theme` parameter of a compatible output format[^output-format] to get started in R Markdown.
By supplying `bslib: true` to that parameter, you'll get the latest version of Bootstrap.

[^output-format]: In theory, any format that passes it's `theme` parameter to `rmarkdown::html_document_base()` is compatible with `bslib`.
However, in practice, the format may not be compatible with modern versions of Bootstrap.

```r
---
output:
  html_document:
    theme:
      bslib: true
---
```

In production, it's recommended to pin the version of Bootstrap (currently 5):

```r
---
output:
  html_document:
    theme:
      version: 5
---
```

As we'll cover later, this `theme` parameter also provides a convenient entry point into [custom theming](#custom-theming).

:::: row
::: col-md-6
`bslib` also provides some R Markdown templates that can be accessed from RStudio by going to File -> New File -> R Markdown -> From Template:
:::

::: col-md-6
```{r, echo = FALSE}
knitr::include_graphics(
  rprojroot::find_package_root_file("vignettes/rstudio-templates.png")
)
```
:::

::::

### flexdashboard

See <https://flexdashboard-pkg.netlify.app/articles/theme.html>.

### pkgdown

See <https://pkgdown.r-lib.org/articles/customise.html>.

### bookdown

See `bookdown::bs4_book()`.


## Custom theming {#custom-theming}

In the previous section, we learned how `bs_theme()` (and, similarly, the `theme` parameter in R Markdown) provides control over the (major) version of Bootstrap. 
It also allows us to add a Bootswatch theme, customize main colors and fonts, and much more. 
Moreover, some of these theming controls can even be [customized in real-time](custom-theming.html#real-time).
See the article on [custom theming](custom-theming.html) to learn more.

```{r, echo = FALSE}
knitr::include_graphics("https://i.imgur.com/KLKy1s0.gif")
```

## UI components

`bslib` offers modern UI components, including cards, sidebars, and value boxes. 
Here's an example of what's possible with these components in combination with [layout helpers](#layout).

```{r}
knitr::include_url("")
```

### Cards

`bslib` offers a sophisticated `card()` API, which offers full screen capabilites, multiple tabs, and much more.
See the [cards article](cards.html) to learn more.


:::: row
::: {.col-md-6 .mt-auto .mb-auto}
```{r card, eval = FALSE}
library(plotly)
card(
  full_screen = TRUE,
  max_height = 275,
  card_header("Diamond prices"),
  plot_ly(x = diamonds$price)
)
```
:::

::: col-md-6
```{r ref.label="card", echo=FALSE}
```
:::

::::


### Sidebars

`bslib` offers a flexible `sidebar()` API, which can used integrates nicely with cards, [filling layout](#filling-layout), [multi-page layouts](#multi-page), and more.
See the [sidebar article](sidebars.html) to learn more.

```{r}
library(plotly)
card(
  full_screen = TRUE,
  max_height = 275,
  layout_sidebar(
    fillable = TRUE,
    sidebar = sidebar(
      title = "A title here",
      "Controls here"
    ),
    plot_ly(x = diamonds$price)
  )
)
```

### Value boxes

`bslib` offers a sophisticated value box components that's easy to get started with, but has a flexible `card()`-based foundation, which enables things like [expandable sparklines](value-boxes.html#expandable-sparklines).
See the [value box article](value-boxes.html) to learn more.

:::: row
::: col-md-6
```{r value-box, eval=FALSE}
library(bsicons)
value_box(
  title = "I got", 
  value = "99 problems",
  showcase = bs_icon("music-note-beamed"),
  p("bslib ain't one", bs_icon("emoji-smile")),
  p("hit me", bs_icon("suit-spade"))
)
```
:::

::: col-md-6
```{r ref.label="value-box", echo=FALSE}
```
:::

::::

## Layout helpers

`bslib` offers modern ways to layout multiple UI components

### Column based layout

`bslib` offers a new approach to column based layouts that are designed with filling layouts in mind.
See the [column-based layout article](column-layout.html) to learn more.

```{r}
library(plotly)
layout_column_wrap( 
  width = 1/2,
  height = 300,
  card(
    full_screen = TRUE,
    card_header("Diamond prices"),
    plot_ly(x = diamonds$price)
  ),
  card(
    full_screen = TRUE,
    card_header("Long scrolling description"),
    lorem::ipsum(3)
  )
)
```

### Filling layouts {#filling-layout}

`bslib` offers a powerful filling layout framework that not only supports layouts that fill the window, but also filling of resizable elements, like full screen cards.
See the [filling layouts article](filling.html) to learn more.

```{r}
# TODO: use the iframe stuff
page_fillable()
```

### Multi page/tab {#multi-page}

`bslib` offers modern replacements for navigation-related APIs like `shiny::navbarPage()` and `shiny::tabsetPanel()` that are built with filling layouts, sidebars, and cards in mind.
They also enable things like right-aligned navigation items, external links, and more.
See the [multi page/tab article](https://rstudio.github.io/bslib/reference/navs.html#details) to learn more.

```{r, eval = FALSE}
# TODO: use the iframe stuff
library(plotly)
page_navbar(
  title = "My dashboard",
  bg = "#0D6EFD",
  fillable = TRUE,
  sidebar = sidebar(
    "Controls here..."
  ),
  nav(
    "Prices", 
    plot_ly(x = diamonds$price)
  ),
  nav(
    "Carats", 
    plot_ly(x = diamonds$carat)
  )
)
```